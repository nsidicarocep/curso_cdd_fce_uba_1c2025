<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso ggplot2: Visualizaci√≥n de Datos en R</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow: hidden;
        }

        .slideshow-container {
            position: relative;
            max-width: 100%;
            height: 100vh;
        }

        .slide {
            display: none;
            padding: 40px;
            text-align: left;
            background: white;
            margin: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            height: calc(100vh - 40px);
            overflow-y: auto;
        }

        .slide.active {
            display: block;
        }

        .slide h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 20px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .slide h2 {
            color: #34495e;
            font-size: 2em;
            margin: 25px 0 15px 0;
        }

        .slide h3 {
            color: #555;
            font-size: 1.5em;
            margin: 20px 0 10px 0;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }

        .highlight {
            background: #fef9e7;
            padding: 15px;
            border-left: 4px solid #f39c12;
            margin: 15px 0;
            border-radius: 5px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .geom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .geom-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }

        .geom-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .navigation {
            position: fixed;
            bottom: 20px;
            width: 100%;
            text-align: center;
            z-index: 1000;
        }

        .nav-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .slide-counter {
            background: rgba(52, 73, 94, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            margin: 0 20px;
        }

        .theme-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .theme-card {
            background: #f1f2f6;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .scale-types {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }

        .scale-type {
            background: #e8f4f8;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #3498db;
            flex: 1;
            min-width: 200px;
        }

        ul {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 8px 0;
            line-height: 1.5;
        }

        .visual-example {
            background: #f8f9fa;
            border: 2px dashed #3498db;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="slideshow-container">
        
        <!-- Slide 1: T√≠tulo -->
        <div class="slide active">
            <h1>üé® Visualizaci√≥n de Datos con ggplot2</h1>
            <h2 style="text-align: center; margin: 50px 0;">Gram√°tica de Gr√°ficos en R</h2>
            
            <div style="text-align: center; margin: 60px 0;">
                <h3>‚ú® Clase de hoy:</h3>
                <ul style="text-align: left; display: inline-block; margin: 30px 0;">
                    <li>üèóÔ∏è Fundamentos de la gram√°tica de gr√°ficos</li>
                    <li>üìä Tipos de geometr√≠as (geoms)</li>
                    <li>üé® Personalizaci√≥n con themes</li>
                    <li>üìè Control de escalas (scales)</li>
                    <li>üó∫Ô∏è Gesti√≥n de leyendas (guides)</li>
                    <li>üîß T√©cnicas avanzadas de customizaci√≥n</li>
                </ul>
            </div>

            <div class="highlight">
                <strong>üí° Clave:</strong> ggplot2 no es solo una librer√≠a de gr√°ficos, es un lenguaje completo para describir visualizaciones basado en "principios te√≥ricos" s√≥lidos.
            </div>
        </div>

        <!-- Slide 2: Gram√°tica de Gr√°ficos -->
        <div class="slide">
            <h1>üìê La Gram√°tica de Gr√°ficos</h1>
            
            <h2>üß© Componentes Fundamentales</h2>
            
            <div class="two-column">
                <div>
                    <h3>1. Datos (Data)</h3>
                    <p>El dataset que queremos visualizar</p>
                    
                    <h3>2. Est√©tica (Aesthetics)</h3>
                    <p>Mapeo de variables a propiedades visuales</p>
                    
                    <h3>3. Geometr√≠as (Geoms)</h3>
                    <p>Objetos geom√©tricos que representan los datos</p>
                    
                    <h3>4. Escalas (Scales)</h3>
                    <p>Controlan el mapeo entre datos y est√©tica</p>
                </div>
                <div>
                    <h3>5. Facetas (Facets)</h3>
                    <p>Divisi√≥n en subgr√°ficos</p>
                    
                    <h3>6. Estad√≠sticas (Stats)</h3>
                    <p>Transformaciones estad√≠sticas</p>
                    
                    <h3>7. Coordenadas (Coord)</h3>
                    <p>Sistema de coordenadas</p>
                    
                    <h3>8. Tema (Theme)</h3>
                    <p>Elementos visuales no relacionados con datos</p>
                </div>
            </div>

            <div class="code-block">
ggplot(data = &lt;DATA&gt;) +
  &lt;GEOM_FUNCTION&gt;(
    mapping = aes(&lt;MAPPINGS&gt;),
    stat = &lt;STAT&gt;,
    position = &lt;POSITION&gt;
  ) +
  &lt;COORDINATE_FUNCTION&gt; +
  &lt;FACET_FUNCTION&gt; +
  &lt;SCALE_FUNCTION&gt; +
  &lt;THEME_FUNCTION&gt;
            </div>
        </div>

        <!-- Slide 3: Geometr√≠as B√°sicas -->
        <div class="slide">
            <h1>üìä Geometr√≠as (Geoms) - Parte 1</h1>
            
            <h2>üîµ Geoms para Distribuciones</h2>
            
            <div class="geom-grid">
                <div class="geom-card">
                    <h4>geom_point()</h4>
                    <p><strong>Uso:</strong> Scatter plots, relaciones</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_point(aes(x = mpg, y = hp),
           size = 3, alpha = 0.7)
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_line()</h4>
                    <p><strong>Uso:</strong> Series temporales, tendencias</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_line(aes(x = date, y = value),
          size = 1, color = "blue")
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_bar()</h4>
                    <p><strong>Uso:</strong> Conteos, frecuencias</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_bar(aes(x = category),
         fill = "steelblue")
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_col()</h4>
                    <p><strong>Uso:</strong> Barras con valores espec√≠ficos</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_col(aes(x = name, y = value),
         fill = "coral")
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_histogram()</h4>
                    <p><strong>Uso:</strong> Distribuci√≥n de variable continua</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_histogram(aes(x = value),
               bins = 30, alpha = 0.7)
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_density()</h4>
                    <p><strong>Uso:</strong> Distribuci√≥n suavizada</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_density(aes(x = value),
             fill = "lightblue")
                    </div>
                </div>
            </div>

            <div class="highlight">
                <strong>üí° Tip clave:</strong> La diferencia entre <code>geom_bar()</code> (cuenta autom√°ticamente) y <code>geom_col()</code> (usa valores Y existentes) es fundamental.
            </div>
        </div>

        <!-- Slide 4: Geometr√≠as Avanzadas -->
        <div class="slide">
            <h1>üìä Geometr√≠as (Geoms) - Parte 2</h1>
            
            <h2>üî∏ Geoms para Comparaciones y Distribuciones</h2>
            
            <div class="geom-grid">
                <div class="geom-card">
                    <h4>geom_boxplot()</h4>
                    <p><strong>Uso:</strong> Comparar distribuciones</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_boxplot(aes(x = group, y = value),
             fill = "lightgreen")
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_violin()</h4>
                    <p><strong>Uso:</strong> Distribuci√≥n + densidad</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_violin(aes(x = group, y = value),
            trim = FALSE)
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_smooth()</h4>
                    <p><strong>Uso:</strong> L√≠neas de tendencia</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_smooth(aes(x = x, y = y),
            method = "lm", se = TRUE)
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_area()</h4>
                    <p><strong>Uso:</strong> √Åreas apiladas</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_area(aes(x = x, y = y, fill = group),
          alpha = 0.6)
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_tile()</h4>
                    <p><strong>Uso:</strong> Heatmaps, matrices</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_tile(aes(x = x, y = y, fill = value))
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>geom_text() / geom_label()</h4>
                    <p><strong>Uso:</strong> Etiquetas y anotaciones</p>
                    <div class="code-block" style="font-size: 0.9em;">
geom_text(aes(x = x, y = y, label = text),
          size = 3, vjust = -0.5)
                    </div>
                </div>
            </div>

            <div class="two-column">
                <div class="highlight">
                    <strong>üéØ Cu√°ndo usar cada uno:</strong>
                    <ul>
                        <li><strong>Boxplot:</strong> Comparar grupos, detectar outliers</li>
                        <li><strong>Violin:</strong> Ver forma de distribuci√≥n</li>
                        <li><strong>Smooth:</strong> Mostrar tendencias generales</li>
                    </ul>
                </div>
                <div class="highlight">
                    <strong>‚öôÔ∏è Par√°metros importantes:</strong>
                    <ul>
                        <li><strong>alpha:</strong> Transparencia (0-1)</li>
                        <li><strong>size:</strong> Tama√±o de l√≠neas/puntos</li>
                        <li><strong>fill vs color:</strong> Interior vs borde</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 5: Aesthetics -->
        <div class="slide">
            <h1>üé® Aesthetics (aes) - Mapeo Visual</h1>
            
            <h2>üìå Aesthetics Principales</h2>
            
            <div class="two-column">
                <div>
                    <h3>üó∫Ô∏è Aesthetics de Posici√≥n</h3>
                    <ul>
                        <li><strong>x, y:</strong> Posiciones en ejes</li>
                        <li><strong>xmin, xmax, ymin, ymax:</strong> Rangos</li>
                    </ul>
                    
                    <h3>üé® Aesthetics Visuales</h3>
                    <ul>
                        <li><strong>color:</strong> Color de borde/l√≠nea</li>
                        <li><strong>fill:</strong> Color de relleno</li>
                        <li><strong>size:</strong> Tama√±o</li>
                        <li><strong>alpha:</strong> Transparencia</li>
                        <li><strong>shape:</strong> Forma (para puntos)</li>
                        <li><strong>linetype:</strong> Tipo de l√≠nea</li>
                    </ul>
                </div>
                <div>
                    <div class="code-block">
# ‚úÖ CORRECTO: Mapear variable a color
ggplot(mtcars, aes(x = mpg, y = hp, 
                   color = factor(cyl))) +
  geom_point()
  <br>

# ‚úÖ CORRECTO: Color fijo para todos
ggplot(mtcars, aes(x = mpg, y = hp)) +
  geom_point(color = "red") 
  <br>

# ‚ùå ERROR: Color fijo dentro de aes()
ggplot(mtcars, aes(x = mpg, y = hp, 
                   color = "red")) +
  geom_point()
                    </div>
                </div>
            </div>

            <h2>üîÑ Mapeo vs Configuraci√≥n</h2>
            
            <div class="two-column">
                <div class="highlight">
                    <h3>üìä Dentro de aes() - MAPEO</h3>
                    <p>Conecta variables del dataset con propiedades visuales</p>
                    <div class="code-block">
aes(x = variable1,
    y = variable2,
    color = grupo,
    size = peso)
                    </div>
                    <p>‚ú® Crea autom√°ticamente leyendas</p>
                </div>
                <div class="highlight">
                    <h3>‚öôÔ∏è Fuera de aes() - CONFIGURACI√ìN</h3>
                    <p>Establece valores fijos para todos los puntos</p>
                    <div class="code-block">
geom_point(color = "blue",
           size = 3,
           alpha = 0.7,
           shape = 16)
                    </div>
                    <p>üö´ No crea leyendas</p>
                </div>
            </div>
        </div>

        <!-- Slide 6: Scales -->
        <div class="slide">
            <h1>üìè Scales - Control Total del Mapeo</h1>
            
            <h2>üéØ ¬øQu√© hacen las Scales?</h2>
            <p>Las scales controlan c√≥mo se mapean los datos a las propiedades visuales y c√≥mo se muestran en ejes y leyendas.</p>
            
            <div class="scale-types">
                <div class="scale-type">
                    <h4>üîµ scale_x_* / scale_y_*</h4>
                    <p>Controlan ejes X e Y</p>
                    <ul>
                        <li>scale_x_continuous()</li>
                        <li>scale_x_discrete()</li>
                        <li>scale_x_date()</li>
                    </ul>
                </div>
                <div class="scale-type">
                    <h4>üåà scale_color_* / scale_fill_*</h4>
                    <p>Controlan colores</p>
                    <ul>
                        <li>scale_color_manual()</li>
                        <li>scale_color_brewer()</li>
                        <li>scale_color_viridis_d()</li>
                    </ul>
                </div>
                <div class="scale-type">
                    <h4>üìê scale_size_* / scale_shape_*</h4>
                    <p>Controlan tama√±o y forma</p>
                    <ul>
                        <li>scale_size_continuous()</li>
                        <li>scale_shape_manual()</li>
                        <li>scale_alpha()</li>
                    </ul>
                </div>
            </div>

            <h2>üíª Ejemplos Pr√°cticos</h2>
            
            <div class="two-column">
                <div>
                    <h3>üé® Escalas de Color</h3>
                    <div class="code-block">
# Colores manuales
scale_color_manual(
  values = c("red", "blue", "green"),
  name = "Grupos"
)
<br>

# Paleta ColorBrewer
scale_fill_brewer(
  type = "qual", 
  palette = "Set1"
)
<br>

# Viridis (accesible)
scale_color_viridis_d(
  option = "plasma"
)
<br>
                    </div>
                </div>
                <div>
                    <h3>üìä Escalas de Ejes</h3>
                    <div class="code-block">
# Eje Y en escala log
scale_y_log10(
  labels = scales::comma
)
<br>
# Eje X con fechas
scale_x_date(
  date_breaks = "1 month",
  date_labels = "%b %Y"
)
<br>
# L√≠mites personalizados
scale_x_continuous(
  limits = c(0, 100),
  breaks = seq(0, 100, 20)
)
<br>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 7: Themes -->
        <div class="slide">
            <h1>üé® Themes - Estilo y Apariencia</h1>
            
            <h2>üèóÔ∏è Themes Predefinidos</h2>
            
            <div class="theme-examples">
                <div class="theme-card">
                    <h4>theme_minimal()</h4>
                    <p>Limpio y moderno</p>
                    <div class="visual-example">Fondo blanco, l√≠neas sutiles</div>
                </div>
                <div class="theme-card">
                    <h4>theme_classic()</h4>
                    <p>Estilo acad√©mico</p>
                    <div class="visual-example">Solo ejes, sin grilla</div>
                </div>
                <div class="theme-card">
                    <h4>theme_bw()</h4>
                    <p>Blanco y negro</p>
                    <div class="visual-example">Fondo blanco, bordes negros</div>
                </div>
                <div class="theme-card">
                    <h4>theme_dark()</h4>
                    <p>Fondo oscuro</p>
                    <div class="visual-example">Para presentaciones</div>
                </div>
                <div class="theme-card">
                    <h4>theme_void()</h4>
                    <p>Sin elementos</p>
                    <div class="visual-example">Solo los datos</div>
                </div>
                <div class="theme-card">
                    <h4>theme_light()</h4>
                    <p>Grilla sutil</p>
                    <div class="visual-example">L√≠neas muy claras</div>
                </div>
            </div>

            <h2>üîß Personalizaci√≥n Avanzada</h2>
            
            <div class="code-block">
ggplot(data, aes(x, y)) + <br>
  geom_point() +<br> 
  theme_minimal() +<br>
  theme(<br>
    # T√≠tulos <br>
    plot.title = element_text(size = 16, face = "bold", hjust = 0.5), <br>
    plot.subtitle = element_text(size = 12, color = "gray50"),<br>
    <br>
    # Ejes<br>
    axis.title = element_text(size = 12, face = "bold"),<br>
    axis.text = element_text(size = 10),<br>
    axis.line = element_line(color = "black", size = 0.5),<br>
    <br>
    # Leyenda<br>
    legend.position = "bottom",<br>
    legend.title = element_text(face = "bold"),<br>
    legend.background = element_rect(fill = "gray95"),<br>
    <br>
    # Panel<br>
    panel.background = element_rect(fill = "white"),<br>
    panel.grid.major = element_line(color = "gray90", size = 0.5),<br>
    panel.grid.minor = element_blank(),<br>
    
    # M√°rgenes<br>
    plot.margin = margin(20, 20, 20, 20)<br>
  )
            </div>
        </div>

        <!-- Slide 8: Guides y Leyendas -->
        <div class="slide">
            <h1>üóÇÔ∏è Guides - Control de Leyendas</h1>
            
            <h2>üìã Tipos de Guides</h2>
            
            <div class="two-column">
                <div>
                    <h3>üé® guide_legend()</h3>
                    <p>Para variables discretas (categor√≠as)</p>
                    <div class="code-block">
guides(color = guide_legend(<br>
  title = "Grupos",<br>
  override.aes = list(size = 4),<br>
  ncol = 2,<br>
  title.position = "top"<br>
))
                    </div>

                    <h3>üìä guide_colorbar()</h3>
                    <p>Para variables continuas</p>
                    <div class="code-block">
guides(fill = guide_colorbar(<br>
  title = "Valores",<br>
  title.position = "top",<br>
  barwidth = 15,<br>
  barheight = 1.5<br>
))
                    </div>
                </div>
                <div>
                    <h3>‚öôÔ∏è Opciones Comunes</h3>
                    <ul>
                        <li><strong>title:</strong> T√≠tulo de la leyenda</li>
                        <li><strong>title.position:</strong> "top", "bottom", "left", "right"</li>
                        <li><strong>ncol/nrow:</strong> N√∫mero de columnas/filas</li>
                        <li><strong>override.aes:</strong> Cambiar apariencia en leyenda</li>
                        <li><strong>reverse:</strong> Invertir orden</li>
                        <li><strong>label:</strong> Etiquetas personalizadas</li>
                    </ul>

                    <h3>üö´ Eliminar Leyendas</h3>
                    <div class="code-block">
# Eliminar leyenda espec√≠fica<br>
guides(color = "none")<br>

# Eliminar todas las leyendas<br>
theme(legend.position = "none")<br>
                    </div>
                </div>
            </div>

            <h2>üí° Ejemplo Completo</h2>
            <div class="code-block">
ggplot(mtcars, aes(x = mpg, y = hp, color = factor(cyl), size = wt)) +<br>
  geom_point(alpha = 0.7) +<br>
  scale_color_viridis_d(name = "Cilindros") +<br>
  scale_size_continuous(name = "Peso", range = c(2, 8)) +<br>
  guides(<br>
    color = guide_legend(<br>
      title.position = "top",<br>
      override.aes = list(size = 4, alpha = 1),<br>
      nrow = 1<br>
    ),<br>
    size = guide_legend(<br>
      title.position = "top",<br>
      override.aes = list(alpha = 1),<br>
      nrow = 1<br>
    )<br>
  ) +<br>
  theme(legend.position = "bottom",<br>
        legend.box = "horizontal")<br>
            </div>
        </div>

        <!-- Slide 9: Labs y Anotaciones -->
        <div class="slide">
            <h1>üè∑Ô∏è Labs y Anotaciones</h1>
            
            <h2>üìù Funci√≥n labs()</h2>
            <p>Control completo de t√≠tulos y etiquetas</p>
            
            <div class="code-block">
ggplot(data, aes(x, y, color = group)) +<br>
  geom_point() +<br>
  labs(<br>
    title = "T√≠tulo Principal",<br>
    subtitle = "Subt√≠tulo explicativo",<br>
    caption = "Fuente: Mi dataset (2024)",<br>
    x = "Variable X (unidades)",<br>
    y = "Variable Y (unidades)",<br>
    color = "Grupos",<br>
    tag = "A"  # Para figuras m√∫ltiples<br>
  )<br>
            </div>

            <h2>üìç Anotaciones Avanzadas</h2>
            
            <div class="two-column">
                <div>
                    <h3>üìå annotate()</h3>
                    <div class="code-block">
# Texto<br>
annotate("text", <br>
         x = 25, y = 200,<br>
         label = "Punto importante",<br>
         size = 4, color = "red")<br>

# Rect√°ngulo<br>
annotate("rect",<br>
         xmin = 20, xmax = 30,<br>
         ymin = 100, ymax = 150,<br>
         alpha = 0.3, fill = "yellow")<br>

# Flecha<br>
annotate("segment",<br>
         x = 20, xend = 25,<br>
         y = 180, yend = 200,<br>
         arrow = arrow())<br>
                    </div>
                </div>
                <div>
                    <h3>üîç geom_text_repel()</h3>
                    <p>Requiere librer√≠a ggrepel</p>
                    <div class="code-block">
library(ggrepel)<br>

ggplot(data, aes(x, y, label = name)) +<br>
  geom_point() +<br>
  geom_text_repel(<br>
    box.padding = 0.5,<br>
    point.padding = 0.3,<br>
    max.overlaps = 10<br>
  )<br>
                    </div>

                    <h3>üìè L√≠neas de referencia</h3>
                    <div class="code-block">
# L√≠nea horizontal<br>
geom_hline(yintercept = 100, <br>
           linetype = "dashed",<br>
           color = "red")<br>

# L√≠nea vertical<br>
geom_vline(xintercept = mean(data$x),<br>
           alpha = 0.7)<br>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Facets -->
        <div class="slide">
            <h1>üî≤ Facets - M√∫ltiples Paneles</h1>
            
            <h2>üìä Tipos de Facetas</h2>
            
            <div class="two-column">
                <div>
                    <h3>üéØ facet_wrap()</h3>
                    <p>Para una variable categ√≥rica</p>
                    <div class="code-block">
ggplot(data, aes(x, y)) +<br>
  geom_point() +<br>
  facet_wrap(<br>
    ~ categoria,        # Variable para facetas<br>
    ncol = 3,          # N√∫mero de columnas<br>
    scales = "free",   # "fixed", "free", "free_x", "free_y"<br>
    labeller = label_both<br>
  )<br>
                    </div>
                    
                    <h3>üîß Opciones de facet_wrap</h3>
                    <ul>
                        <li><strong>ncol/nrow:</strong> Controlar disposici√≥n</li>
                        <li><strong>scales:</strong> Escalas independientes</li>
                        <li><strong>dir:</strong> "h" (horizontal) o "v" (vertical)</li>
                        <li><strong>strip.position:</strong> Posici√≥n de etiquetas</li>
                    </ul>
                </div>
                <div>
                    <h3>üìã facet_grid()</h3>
                    <p>Para dos variables categ√≥ricas</p>
                    <div class="code-block">
ggplot(data, aes(x, y)) +<br>
  geom_point() +<br>
  facet_grid(<br>
    rows = vars(variable1),    # Filas<br>
    cols = vars(variable2),    # Columnas<br>
    scales = "free",<br>
    margins = TRUE,           # Totales marginales<br>
    space = "free"            # Espacio proporcional<br>
  )<br>
                    </div>
                    
                    <h3>üé® Personalizaci√≥n</h3>
                    <div class="code-block">
# Etiquetas personalizadas<br>
facet_wrap(~ grupo, <br>
  labeller = labeller(<br>
    grupo = c("A" = "Grupo Alpha",<br>
              "B" = "Grupo Beta")<br>
  ))<br>

# Styling de strips<br>
theme(<br>
  strip.background = element_rect(fill = "lightblue"),<br>
  strip.text = element_text(face = "bold")<br>
)<br>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 11: Coordenadas y Transformaciones -->
        <div class="slide">
            <h1>üéØ Sistemas de Coordenadas</h1>
            
            <h2>üìê Transformaciones de Coordenadas</h2>
            
            <div class="two-column">
                <div>
                    <h3>üîÑ coord_flip()</h3>
                    <p>Intercambia ejes X e Y</p>
                    <div class="code-block">
ggplot(data, aes(x = categoria, y = valor)) +<br>
  geom_col() +<br>
  coord_flip()  # Barras horizontales<br>
                    </div>

                    <h3>‚≠ï coord_polar()</h3>
                    <p>Coordenadas polares (pie charts)</p>
                    <div class="code-block">
ggplot(data, aes(x = "", y = valor, fill = grupo)) +<br>
  geom_col() +<br>
  coord_polar(theta = "y")  # Pie chart<br>
                    </div>

                    <h3>üìè coord_fixed()</h3>
                    <p>Ratio fijo entre ejes</p>
                    <div class="code-block">
ggplot(data, aes(x, y)) +<br>
  geom_point() +<br>
  coord_fixed(ratio = 1)  # 1:1 ratio<br>
                    </div>
                </div>
                <div>
                    <h3>üîç coord_cartesian()</h3>
                    <p>Zoom sin perder datos</p>
                    <div class="code-block">
ggplot(data, aes(x, y)) +<br>
  geom_point() +<br>
  coord_cartesian(<br>
    xlim = c(10, 50),    # L√≠mites X<br>
    ylim = c(100, 300),  # L√≠mites Y<br>
    expand = FALSE       # Sin expansi√≥n<br>
  )<br>
                    </div>

                    <h3>üìä coord_trans()</h3>
                    <p>Transformaciones matem√°ticas</p>
                    <div class="code-block">
ggplot(data, aes(x, y)) +<br>
  geom_point() +<br>
  coord_trans(<br>
    x = "log10",<br>
    y = "sqrt"<br>
  )<br>
                    </div>

                    <div class="highlight">
                        <strong>‚ö†Ô∏è Diferencia importante:</strong>
                        <ul>
                            <li><strong>coord_cartesian():</strong> Hace zoom</li>
                            <li><strong>scale_*_continuous(limits = ):</strong> Filtra datos</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Workflow y Mejores Pr√°cticas -->
        <div class="slide">
            <h1>üéØ Workflow y Mejores Pr√°cticas</h1>
            
            <h2>üîÑ Flujo de Trabajo Recomendado</h2>
            
            <div class="two-column">
                <div>
                    <h3>1Ô∏è‚É£ Exploraci√≥n R√°pida</h3>
                    <div class="code-block">
# Vistazo r√°pido<br>
ggplot(data, aes(x, y)) +<br>
  geom_point()
                    </div>

                    <h3>2Ô∏è‚É£ Agregar Capas</h3>
                    <div class="code-block">
# A√±adir color y tendencia<br>
ggplot(data, aes(x, y, color = grupo)) +<br>
  geom_point() +<br>
  geom_smooth(method = "lm")<br>
                    </div>

                    <h3>3Ô∏è‚É£ Personalizar</h3>
                    <div class="code-block">
# Mejorar apariencia <br>
+ scale_color_viridis_d() +<br>
  theme_minimal() +<br>
  labs(title = "Mi gr√°fico")<br>
                    </div>
                </div>
                <div>
                    <h3>‚úÖ Mejores Pr√°cticas</h3>
                    <ul>
                        <li>üé® <strong>Colores accesibles:</strong> Usar viridis, ColorBrewer</li>
                        <li>üìè <strong>Aspect ratio:</strong> Considerar coord_fixed()</li>
                        <li>üìù <strong>T√≠tulos claros:</strong> Incluir unidades</li>
                        <li>üéØ <strong>Una idea por gr√°fico:</strong> No sobrecargar</li>
                        <li>üìä <strong>Escalas apropiadas:</strong> Log para rangos amplios</li>
                        <li>üé® <strong>Temas consistentes:</strong> Usar el mismo en todo el an√°lisis</li>
                    </ul>

                    <h3>‚ùå Errores Comunes</h3>
                    <ul>
                        <li>üö´ Pie charts para m√°s de 5 categor√≠as</li>
                        <li>üö´ Doble eje Y (confunde)</li>
                        <li>üö´ Colores que no distingue dalt√≥nicos</li>
                        <li>üö´ 3D innecesario</li>
                        <li>üö´ Demasiados elementos en un gr√°fico</li>
                    </ul>
                </div>
            </div>

            <h2>üíæ Guardando Gr√°ficos</h2>
            <div class="code-block">
# M√©todo recomendado: ggsave()<br>
p <- ggplot(data, aes(x, y)) + geom_point()<br>

ggsave("mi_grafico.png", plot = p, <br>
       width = 10, height = 6, dpi = 300, <br>
       bg = "white")<br>

# Diferentes formatos<br>
ggsave("figura.pdf", width = 8, height = 6)<br>
ggsave("figura.svg", width = 8, height = 6)<br>
            </div>
        </div>

        <!-- Slide 13: Recursos y Extensiones -->
        <div class="slide">
            <h1>üöÄ Extensiones y Recursos</h1>
            
            <h2>üì¶ Paquetes Complementarios</h2>
            
            <div class="geom-grid">
                <div class="geom-card">
                    <h4>ggthemes</h4>
                    <p>Temas adicionales (Economist, WSJ, etc.)</p>
                    <div class="code-block" style="font-size: 0.8em;">
library(ggthemes)
+ theme_economist()
+ theme_fivethirtyeight()
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>gganimate</h4>
                    <p>Gr√°ficos animados</p>
                    <div class="code-block" style="font-size: 0.8em;">
library(gganimate)
p + transition_time(year) +
  ease_aes('linear')
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>plotly</h4>
                    <p>Gr√°ficos interactivos</p>
                    <div class="code-block" style="font-size: 0.8em;">
library(plotly)
ggplotly(p)
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>patchwork</h4>
                    <p>Combinar m√∫ltiples gr√°ficos</p>
                    <div class="code-block" style="font-size: 0.8em;">
library(patchwork)
p1 + p2 + p3
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>ggrepel</h4>
                    <p>Etiquetas sin solapamiento</p>
                    <div class="code-block" style="font-size: 0.8em;">
library(ggrepel)
geom_text_repel()
                    </div>
                </div>
                
                <div class="geom-card">
                    <h4>ggridges</h4>
                    <p>Ridge plots (joy plots)</p>
                    <div class="code-block" style="font-size: 0.8em;">
library(ggridges)
geom_density_ridges()
                    </div>
                </div>
            </div>

            <h2>üìö Recursos para Seguir Aprendiendo</h2>
            
            <div class="two-column">
                <div>
                    <h3>üìñ Libros</h3>
                    <ul>
                        <li><strong>"ggplot2: Elegant Graphics"</strong> - Hadley Wickham</li>
                        <li><strong>"R Graphics Cookbook"</strong> - Winston Chang</li>
                        <li><strong>"Fundamentals of Data Visualization"</strong> - Claus Wilke</li>
                    </ul>

                    <h3>üåê Online</h3>
                    <ul>
                        <li><strong>R for Data Science:</strong> r4ds.had.co.nz</li>
                        <li><strong>ggplot2 extensions:</strong> exts.ggplot2.tidyverse.org</li>
                        <li><strong>R Graph Gallery:</strong> r-graph-gallery.com</li>
                    </ul>
                </div>
                <div>
                    <h3>üé® Inspiraci√≥n</h3>
                    <ul>
                        <li><strong>TidyTuesday:</strong> github.com/rfordatascience/tidytuesday</li>
                        <li><strong>Flowing Data:</strong> flowingdata.com</li>
                        <li><strong>Information is Beautiful:</strong> informationisbeautiful.net</li>
                    </ul>

                    <h3>üîß Herramientas</h3>
                    <ul>
                        <li><strong>RStudio addins:</strong> Para esquemas de color</li>
                        <li><strong>esquisse:</strong> GUI para ggplot2</li>
                        <li><strong>ColorBrewer:</strong> colorbrewer2.org</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 14: Resumen Final -->
        <div class="slide">
            <h1>üéØ Resumen y Puntos Clave</h1>
            
            <h2>üí° Conceptos Fundamentales</h2>
            
            <div class="two-column">
                <div class="highlight">
                    <h3>üèóÔ∏è Gram√°tica de Gr√°ficos</h3>
                    <ul>
                        <li><strong>Datos + Aesthetics + Geoms</strong> = Gr√°fico b√°sico</li>
                        <li><strong>Scales</strong> controlan el mapeo</li>
                        <li><strong>Themes</strong> controlan la apariencia</li>
                        <li><strong>Facets</strong> para m√∫ltiples paneles</li>
                    </ul>
                </div>
                <div class="highlight">
                    <h3>üé® Reglas de Oro</h3>
                    <ul>
                        <li><strong>aes()</strong> para mapear variables</li>
                        <li>Par√°metros fijos <strong>fuera de aes()</strong></li>
                        <li>Construir <strong>capa por capa</strong></li>
                        <li><strong>Una idea</strong> por gr√°fico</li>
                    </ul>
                </div>
            </div>

            <h2>üîÑ Flujo de Trabajo</h2>
            <div class="code-block">
# 1. Explorar<br>
ggplot(data, aes(x, y)) + geom_point()<br>

# 2. Agregar informaci√≥n<br>
+ aes(color = grupo, size = valor)<br>

# 3. Mejorar geometr√≠as<br>
+ geom_smooth(method = "lm", se = FALSE)<br>

# 4. Personalizar escalas<br>
+ scale_color_viridis_d() + scale_size_continuous(range = c(1, 10))<br>

# 5. Aplicar tema<br>
+ theme_minimal()<br>

# 6. A√±adir etiquetas<br>
+ labs(title = "T√≠tulo", x = "Eje X", y = "Eje Y", color = "Grupos")<br>

# 7. Ajustes finales<br>
+ theme(legend.position = "bottom")<br>
            </div>

            <h2>üéØ Para Recordar</h2>
            <div class="two-column">
                <div>
                    <h3>‚úÖ Hacer</h3>
                    <ul>
                        <li>Empezar simple, construir gradualmente</li>
                        <li>Usar colores accesibles</li>
                        <li>T√≠tulos y etiquetas descriptivos</li>
                        <li>Temas consistentes</li>
                        <li>Guardar con ggsave()</li>
                    </ul>
                </div>
                <div>
                    <h3>‚ùå Evitar</h3>
                    <ul>
                        <li>Sobrecargar con informaci√≥n</li>
                        <li>Colores problem√°ticos para dalt√≥nicos</li>
                        <li>3D innecesario</li>
                        <li>Pie charts complejos</li>
                        <li>Doble eje Y</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">‚Üê Anterior</button>
        <span class="slide-counter">
            <span id="slideNum">1</span> / <span id="totalSlides">14</span>
        </span>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Siguiente ‚Üí</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        
        document.getElementById('totalSlides').textContent = totalSlides;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            
            document.getElementById('slideNum').textContent = currentSlide + 1;
            
            // Update button states
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
        }

        function changeSlide(direction) {
            if (direction === 1 && currentSlide < totalSlides - 1) {
                showSlide(currentSlide + 1);
            } else if (direction === -1 && currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                changeSlide(-1);
            }
        });

        // Initialize
        showSlide(0);
    </script>
</body>
</html>